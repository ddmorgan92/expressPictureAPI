<!DOCTYPE html>
<html>

<head>
    <!--<script src="index.js" async></script>-->
    <style>
        ul{
            list-style: none;
        }
    </style>
</head>

<body>
    <input type="file" id="fileElem" accept="image/*" style="display:none">
    <button href="#" id="fileSelect">Select a File</button>
    <div id="fileList">
        <p>No files selected!</p>
    </div>
    <script>
        const fileSelect = document.getElementById("fileSelect"),
            fileElem = document.getElementById("fileElem"),
            fileList = document.getElementById("fileList");

        fileSelect.addEventListener("click", function (e) {
            if (fileElem) {
                fileElem.click();
            }
            e.preventDefault(); // prevent navigation to "#"
        }, false);

        fileElem.addEventListener("change", handleFiles, false);

        function handleFiles() {
            
            if (!this.files.length) {
                fileList.innerHTML = "<p>No files selected!</p>";
            } else {
                fileList.innerHTML = "";
                const list = document.createElement("ul");
                fileList.appendChild(list);
                for (let i = 0; i < this.files.length; i++) {
                    const li = document.createElement("li");
                    list.appendChild(li);

                    const img = document.createElement("img");
                    img.src = URL.createObjectURL(this.files[i]);
                    img.height = 300;
                    img.onload = function () {
                        URL.revokeObjectURL(this.src);
                    }
                    li.appendChild(img);
                }
                var file = this.files[0];
                var reader = new FileReader();
                reader.onloadend = function() {
                    console.log('RESULT', reader.result)
                }
                console.log(reader.readAsDataURL(file));
            }
        }
    </script>
</body>

</html>